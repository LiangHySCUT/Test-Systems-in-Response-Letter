function mpc = MOPF_18b
%MOPF_18b  Power flow data for modified 18 bus distribution system
%   Please see CASEFORMAT for details on the case file format.


%% MATPOWER Case Format : Version 2
mpc.version = '2';

%%-----  Power Flow Data  -----%%
%% system MVA base
mpc.baseMVA = 10;

%% bus data
%	bus_i	type	Pd	Qd	Gs	Bs	area	Vm	Va	baseKV	zone	Vmax	Vmin
mpc.bus = [
	1	1	0	0	0	0	1	1	0	12.5	1	1.1	0.9;
	2	1	0.2	0.12	0	1.05	1	1	0	12.5	1	1.1	0.9;
	3	1	0.4	0.25	0	0.6	1	1	0	12.5	1	1.1	0.9;
	4	1	1.5	0.93	0	0.6	1	1	0	12.5	1	1.1	0.9;
	5	1	3	2.26	0	1.8	1	1	0	12.5	1	1.1	0.9;
	6	1	0.8	0.5	0	0	1	1	0	12.5	1	1.1	0.9;
	7	1	0.2	0.12	0	0.6	1	1	0	12.5	1	1.1	0.9;
	8	1	1	0.62	0	0	1	1	0	12.5	1	1.1	0.9;
	9	1	0.5	0.31	0	0	1	1	0	12.5	1	1.1	0.9;
	20	1	1	0.62	0	0.6	1	1	0	12.5	1	1.1	0.9;
	21	1	0.3	0.19	0	1.2	1	1	0	12.5	1	1.1	0.9;
	22	1	0.2	0.12	0	0	1	1	0	12.5	1	1.1	0.9;
	23	1	0.8	0.5	0	0	1	1	0	12.5	1	1.1	0.9;
	24	1	0.5	0.31	0	1.5	1	1	0	12.5	1	1.1	0.9;
	25	1	1	0.62	0	0.9	1	1	0	12.5	1	1.1	0.9;
	26	1	0.2	0.12	0	0	1	1	0	12.5	1	1.1	0.9;
	50	1	0	0	0	1.2	1	1	0	138	1	1.1	0.9;
	51	3	0	0	0	0	1	1	0	138	1	1.05	1.05;
];

%% generator data
%	bus	Pg	Qg	Qmax	Qmin	Vg	mBase	status	Pmax	Pmin	Pc1	Pc2	Qc1min	Qc1max	Qc2min	Qc2max	ramp_agc	ramp_10	ramp_30	ramp_q	apf
mpc.gen = [
	51	0	0	100	-100	1.05	100	1	100	0	0	0	0	0	0	0	0	0	0	0	0;
];

%% branch data
%	fbus	tbus	r	x	b	rateA	rateB	rateC	ratio	angle	status	angmin	angmax
mpc.branch = [
	1	2	0.00431	0.01204	0.000035	0	0	0	0	0	1	-360	360;
	2	3	0.00601	0.01677	0.000049	0	0	0	0	0	1	-360	360;
	3	4	0.00316	0.00882	0.000026	0	0	0	0	0	1	-360	360;
	4	5	0.00896	0.02502	0.000073	0	0	0	0	0	1	-360	360;
	5	6	0.00295	0.00824	0.000024	0	0	0	0	0	1	-360	360;
	6	7	0.0172	0.0212	0.000046	0	0	0	0	0	1	-360	360;
	7	8	0.0407	0.03053	0.000051	0	0	0	0	0	1	-360	360;
	2	9	0.01706	0.02209	0.000043	0	0	0	0	0	1	-360	360;
	1	20	0.0291	0.03768	0.000074	0	0	0	0	0	1	-360	360;
	20	21	0.02222	0.02877	0.000056	0	0	0	0	0	1	-360	360;
	21	22	0.04803	0.06218	0.000122	0	0	0	0	0	1	-360	360;
	21	23	0.03985	0.0516	0.000101	0	0	0	0	0	1	-360	360;
	23	24	0.02910	0.03768	0.000074	0	0	0	0	0	1	-360	360;
	23	25	0.03727	0.04593	0.0001	0	0	0	0	0	1	-360	360;
	25	26	0.01104	0.0136	0.000118	0	0	0	0	0	1	-360	360;
% original had 2 parallel lines from 25-26
%	25	26	0.02208	0.0272	0.000059	0	0	0	0	0	1	-360	360;
%	25	26	0.02208	0.0272	0.000059	0	0	0	0	0	1	-360	360;
	50	1	0.00312	0.06753	0	0	0	0	0	0	1	-360	360;
	50	51	0.0005	0.00344	0	0	0	0	0	0	1	-360	360;
];

%%-----  OPF Data  -----%%
%% generator cost data
%	1	startup	shutdown	n	x1	y1	...	xn	yn
%	2	startup	shutdown	n	c(n-1)	...	c0
mpc.gencost = [
	2	0	0	3	0	20	0;
];

%%-----  Additional Power Flow  Data  -----%%
%% generator ramp ratio
% bus	ramp_up	ramp_dn
mpc.genramp_ratio = [
    1	0.05	0.05
];

%% load ratio in each period
% bus	t_1	t_2	t_3	t_4	t_5	t_6	t_7	t_8	t_9	t_10	t_11	t_12
mpc.load_ratio = [
    1	0.3607	0.9131	0.8390	0.6395	0.9233	0.7943	0.6356	0.8927	0.3215	0.5938
    2	0.7196	0.5718	0.6300	0.0584	0.3940	0.5516	0.6162	0.2596	0.4624	0.8614
    3	0.3356	0.9852	0.2460	0.4851	0.3900	0.7114	0.6795	0.6803	0.6640	0.7770
    4	0.4780	0.0181	0.4785	0.1289	0.6661	0.0626	0.8396	0.5309	0.6460	0.1049
    5	0.2238	0.4608	0.9931	0.6727	0.9547	0.0616	0.7687	0.0462	0.3439	0.3942
    6	0.4244	0.5039	0.7266	0.7670	0.9186	0.6064	0.0546	0.6782	0.5894	0.9760
    7	0.6218	0.7142	0.0292	0.1231	0.3684	0.2468	0.0820	0.2983	0.8467	0.5105
    8	0.0913	0.6906	0.5527	0.7181	0.5629	0.0018	0.5430	0.1053	0.1779	0.3935
    9	0.1492	0.9927	0.6387	0.6834	0.8004	0.7662	0.3221	0.4675	0.2966	0.5553
    10	0.1495	0.2688	0.3782	0.0337	0.8983	0.4254	0.2444	0.6823	0.0458	0.9754
    11	0.0888	0.5511	0.2551	0.9300	0.9243	0.9896	0.0223	0.7800	0.8000	0.4479
    12	0.6780	0.0591	0.5583	0.5313	0.4131	0.0703	0.1706	0.8276	0.7961	0.8641
    13	0.5529	0.2515	0.7547	0.2034	0.2033	0.1245	0.9510	0.4281	0.3957	0.1429
    14	0.8059	0.5382	0.0964	0.5702	0.2000	0.9684	0.3384	0.5043	0.3199	0.0957
    15	0.4000	0.4877	0.4171	0.6893	0.0028	0.8772	0.4979	0.6342	0.9919	0.3477
    16	0.5739	0.3044	0.4968	0.2645	0.9836	0.2404	0.3702	0.7267	0.5509	0.0728
    17	0.2717	0.1409	0.8585	0.4341	0.9205	0.5159	0.6612	0.4130	0.0146	0.5444
    18	0.6065	0.3421	0.5953	0.7814	0.7761	0.0788	0.4657	0.3563	0.8592	0.9654
];

%% wind power output ratio to Pd
% bus	t_1	t_2	t_3	t_4	t_5	t_6	t_7	t_8	t_9	t_10	t_11	t_12
mpc.Pw_ratio = [
    1	0.2812	0.6130	0.3881	0.3696	0.8666	0.1001	0.8105	0.2469	0.0086	0.5901
    2	0.0801	0.9635	0.2636	0.3174	0.8215	0.2239	0.1508	0.7663	0.4248	0.2478
    3	0.1458	0.0897	0.2631	0.8103	0.0038	0.1025	0.3138	0.6667	0.7180	0.2185
    4	0.1630	0.3087	0.6995	0.1026	0.6603	0.0214	0.4870	0.5363	0.4105	0.7284
    5	0.5386	0.5292	0.0567	0.2128	0.6324	0.5169	0.7036	0.9005	0.6046	0.1831
    6	0.4690	0.4474	0.7887	0.4464	0.2105	0.2587	0.5961	0.6669	0.5909	0.1069
    7	0.2653	0.9400	0.2923	0.3866	0.4349	0.0339	0.0544	0.5434	0.9786	0.4531
    8	0.6745	0.7211	0.8394	0.7746	0.9331	0.7497	0.9712	0.0893	0.2760	0.1937
    9	0.1245	0.7379	0.4846	0.4742	0.4573	0.5417	0.5744	0.0278	0.0428	0.3720
    10	0.2518	0.6391	0.2335	0.7968	0.1100	0.8819	0.5744	0.9598	0.8707	0.1838
    11	0.5892	0.0353	0.2205	0.0249	0.6799	0.5614	0.5772	0.7322	0.8878	0.8868
    12	0.3511	0.6416	0.3143	0.9991	0.9717	0.9687	0.6009	0.8907	0.3720	0.2135
    13	0.5228	0.3186	0.9954	0.2831	0.4354	0.7525	0.1360	0.8953	0.1489	0.5428
    14	0.3352	0.1011	0.1891	0.7678	0.2380	0.9493	0.0349	0.7943	0.1693	0.1653
    15	0.0235	0.0810	0.8505	0.0351	0.8874	0.7388	0.4138	0.5352	0.1628	0.4483
    16	0.4017	0.9021	0.8439	0.8704	0.9528	0.2635	0.2729	0.3424	0.5952	0.8226
    17	0.5047	0.2527	0.5283	0.7429	0.3917	0.0875	0.6896	0.2808	0.8515	0.4725
    18	0.1296	0.4949	0.6649	0.1093	0.7633	0.6859	0.9856	0.4745	0.0441	0.8795
];

%%-----  Energy Storage Data  -----%%
%% storage location
% bus	Emax	Emin	E0	Ed	Pchmax	Pdcmax	effciency	Pchcost	Pdccost
mpc.storage = [
    1-18	1	0	0.4	0.5	0.2	0.2	0.8	-24	26
];